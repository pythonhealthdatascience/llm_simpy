
<!DOCTYPE html>


<html lang="en" data-content_root="../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Stroke+Rehab models &#8212; Using Generative AI to Reconstruct Healthcare Simulation Models</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'notebooks/04_results/02_stroke/00_model_comparison';</script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="prev" title="CCU models" href="../01_CCU/00_model_comparison.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../front_page.html">
  
  
  
  
  
  
    <p class="title logo__title">Using Generative AI to Reconstruct Healthcare Simulation Models</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../front_page.html">
                    Introduction
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Aims</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../00_introduction/01_primary.html">Primary aims</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../00_introduction/02_literature.html">Related literature</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Methods</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../01_methods/01_overview.html">Procedure overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../01_methods/02_recreation.html">Model recreation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../01_methods/03_case_studies.html">Case study selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../01_methods/04_design.html">Model design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../01_methods/05_prompt_engineering.html">Prompt Engineering</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../01_methods/06_testing.html">Testing</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Critical Care Model</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../02_CCU/00_stress_report.html">STRESS report</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/00_stress/01_objectives.html">1. Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/00_stress/02_logic.html">2. Model logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/00_stress/03_data.html">3. Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/00_stress/04_experimentation.html">4. Experimentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/00_stress/05_implementation.html">5. Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/00_stress/06_code_access.html">6. Code access</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../02_CCU/01_model_stage1.html">Model Stage 1</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/01_model_stage1/01_ccu_model.html">Full model code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/01_model_stage1/02_auto_testing.html">Automated Model Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/01_model_stage1/03_manual_testing.html">Manual model testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/01_model_stage1/04_run_script.html">Run script</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/01_model_stage1/05_interface.html">Streamlit interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/01_model_stage1/06_sensitivity_analysis.html">Sensitivity Analysis Script</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../02_CCU/02_model_stage2.html">Model Stage 2</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/02_model_stage2/01_ccu_model_stage2.html">Full model code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/02_model_stage2/02_auto_testing_stage2.html">Automated Model Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/02_model_stage2/03_manual_testing_stage2.html">Manual model testing</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../02_CCU/03_comparison.html">Model output comparison</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../02_CCU/04_prompts_stage1.html">Prompts Stage 1</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/00_iteration.html">Iteration 0: unplanned arrivals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/01_iteration.html">Iteration 1: treatment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/02_iteration.html">Iteration 2: elective patients</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/03_iteration.html">Iteration 3: organise parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/04_iteration.html">Iteration 4: warm-up period</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/05_iteration.html">Iteration 5: cancelled electives (KPI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/06_iteration.html">Iteration 6: bed utilisation (KPI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/07_iteration.html">Iteration 7: waiting time (KPI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/08_iteration.html">Iteration 8: bed occupancy (KPI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/09_iteration.html">Iteration 9: patient count (KPI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/10_iteration.html">Iteration 10: multiple reps (1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/11_iteration.html">Iteration 11: multiple reps (2)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/12_iteration.html">Iteration 12: multiple reps (3)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/13_iteration.html">Iteration 13: multiple reps (4)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/14_iteration.html">Iteration 14: random number streams (1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/15_iteration.html">Iteration 15: random number streams (2)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/16_iteration.html">Iteration 16: random number streams (3)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/17_iteration.html">Iteration 17: random number streams (4)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/18_iteration.html">Iteration 18: batching experiments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/19_iteration.html">Iteration 19: streamlit (1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/20_iteration.html">Iteration 20: streamlit (2)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/21_iteration.html">Iteration 21: streamlit (3)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/04_prompts_stage1/22_iteration.html">Iteration 22: bug fix</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../02_CCU/05_prompts_stage2.html">Prompts Stage 2</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/00_iteration_s2.html">Iteration 0: unplanned arrivals - stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/01_iteration_s2.html">Iteration 1: treatment - stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/02_iteration_s2.html">Iteration 2: elective patients - stage 2</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/03_iteration_s2.html">Iteration 3: organise parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/04_iteration_s2.html">Iteration 4: warm-up period stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/05_iteration_s2.html">Iteration 5: cancelled electives (KPI) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/06_iteration_s2.html">Iteration 6: bed utilisation (KPI) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/07_iteration_s2.html">Iteration 7: waiting time (KPI) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/08_iteration_s2.html">Iteration 8: bed occupancy (KPI) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/09_iteration_s2.html">Iteration 9: patient count (KPI) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/10_iteration_s2.html">Iteration 10: multiple reps (1) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/11_iteration_s2.html">Iteration 11: multiple reps (2) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/12_iteration_s2.html">Iteration 12: multiple reps (3) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/13_iteration_s2.html">Iteration 13: multiple reps stage 2 (4)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/14_iteration_s2.html">Iteration 14: random number streams (1) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/15_iteration_s2.html">Iteration 15: random number streams (2) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/16_iteration_s2.html">Iteration 16: random number streams (3) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/17_iteration_s2.html">Iteration 17: random number streams (4) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/18_iteration_s2.html">Iteration 18: batching experiments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/19_iteration_s2.html">Iteration 19: streamlit (1) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/20_iteration_s2.html">Iteration 20: streamlit (2) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../02_CCU/05_prompts_stage2/21_iteration_s2.html">Iteration 21: streamlit (3) stage 2</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Stroke + Rehab model</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../../03_stroke/00_stress_report.html">STRESS report</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/00_stress/01_objectives.html">1. Objectives</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/00_stress/02_logic.html">2. Model logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/00_stress/03_data.html">3. Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/00_stress/04_experimentation.html">4. Experimentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/00_stress/05_implementation.html">5. Implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/00_stress/06_code_access.html">6. Code access</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../03_stroke/01_model_stage1.html">Model Stage 1</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/01_model_stage1/01_asu_rehab_model.html">Full model code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/01_model_stage1/02_auto_testing.html">Automated Model Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/01_model_stage1/03_manual_testing.html">Manual model testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/01_model_stage1/04_run_script.html">Run script</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/01_model_stage1/05_interface.html">Streamlit interface</a></li>
</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../03_stroke/02_model_stage2.html">Model Stage 2</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/02_model_stage2/01_asu_rehab_model.html">Full model code</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/02_model_stage2/02_auto_testing_stage2.html">Automated Model Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/02_model_stage2/03_manual_testing_stage2.html">Manual model testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/02_model_stage2/04_run_script_stage2.html">Run script</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference internal" href="../../03_stroke/03_comparison.html">Model output comparison</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../03_stroke/04_asu_rehab_prompts.html">Prompts stage 1</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/01_iteration.html">Iteration 1: Acute Stroke Unit Arrivals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/02_iteration.html">Iteration 2: Post stroke unit destination</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/03_iteration.html">Iteration 3: Sample length of stay on the ASU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/04_iteration.html">Iteration 4: Fix the sampling from lognormal distributions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/05_iteration.html">Iteration 5: organise parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/06_iteration.html">Iteration 6: add in a count of occupancy.</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/07_iteration.html">Iteration 7: a trace function</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/08_iteration.html">Iteration 8: auditing ASU occupancy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/09_iteration.html">Iteration 9: ASU occupancy plot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/10_iteration.html">Iteration 10: Blocking probability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/11_iteration.html">Iteration 11: Return missing code</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/12_iteration.html">Iteration 12: External Rehab arrivals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/13_iteration.html">Iteration 13: Organise parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/14_iteration.html">Iteration 14: Rehab treatment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/15_iteration.html">Iteration 15: Organise parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/16_iteration.html">Iteration 16: TIA rehab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/17_iteration.html">Iteration 17: Count occupancy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/18_iteration.html">Iteration 18: Audit Rehab</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/19_iteration.html">Iteration 19: Link models (1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/20_iteration.html">Iteration 20: Link models (2)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/21_iteration.html">Iteration 21: Warm-up period</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/22_iteration.html">Iteration 22: Multiple Replications (1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/23_iteration.html">Iteration 23: Multiple Replications (2)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/24_iteration.html">Iteration 24: Common Random Numbers (1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/25_iteration.html">Iteration 25: Common Random Numbers (2)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/26_iteration.html">Iteration 26: Common Random Numbers (3)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/27_iteration.html">Iteration 27: Common Random Numbers (4)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/28_iteration.html">Iteration 28: streamlit (1)</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/29_iteration.html">Iteration 29: streamlit (2)</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/30_iteration.html">Iteration 30: streamlit (3)</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/04_prompts_stage1/31_iteration.html">Iteration 30: Bug fix</a></li>

</ul>
</details></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../03_stroke/05_asu_rehab_prompts_stage2.html">Prompts stage 2</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/01_iteration_s2.html">Iteration 1: Acute Stroke Unit Arrivals stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/02_iteration_s2.html">Iteration 2: Post stroke unit destination stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/03_iteration_s2.html">Iteration 3: Sample length of stay on the ASU stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/04_iteration_s2.html">Iteration 4: Check the sampling from lognormal distributions stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/05_iteration_s2.html">Iteration 5: organise parameters stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/06_iteration_s2.html">Iteration 6: add in a count of occupancy stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/07_iteration_s2.html">Iteration 7: a trace function stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/08_iteration_s2.html">Iteration 8: auditing ASU occupancy stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/09_iteration_s2.html">Iteration 9: ASU occupancy plot stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/10_iteration_s2.html">Iteration 10: Blocking probability stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/11_iteration_s2.html">Iteration 11: Return missing code stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/12_iteration_s2.html">Iteration 12: External Rehab arrivals stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/13_iteration_s2.html">Iteration 13: Organise parameters stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/14_iteration_s2.html">Iteration 14: Rehab treatment stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/15_iteration_s2.html">Iteration 15: Organise parameters stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/16_iteration_s2.html">Iteration 16: TIA rehab stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/17_iteration_s2.html">Iteration 17: Count occupancy stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/18_iteration_s2.html">Iteration 18: Audit Rehab stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/19_iteration_s2.html">Iteration 19: Link models (1) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/20_iteration_s2.html">Iteration 20: Link models (2) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/21_iteration_s2.html">Iteration 21: Warm-up period stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/22_iteration_s2.html">Iteration 22: Multiple Replications (1) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/23_iteration_s2.html">Iteration 23: Multiple Replications (2) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/24_iteration_s2.html">Iteration 24: Common Random Numbers (1) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/25_iteration_s2.html">Iteration 25: Common Random Numbers (2) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/26_iteration_s2.html">Iteration 26: Common Random Numbers (3) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/27_iteration_s2.html">Iteration 27: Common Random Numbers (4) stage 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/28_iteration_s2.html">Iteration 28: streamlit (1) stage 2</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/29_iteration_s2.html">Iteration 29: streamlit (2) stage 2</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/30_iteration_s2.html">Iteration 30: streamlit (3)</a></li>

<li class="toctree-l2"><a class="reference internal" href="../../03_stroke/05_prompts_stage2/31_iteration_s2.html">Iteration 30: Bug fix</a></li>

</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Results</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../01_CCU/00_model_comparison.html">CCU models</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Stroke+Rehab models</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/gh/pythonhealthdatascience/llm_simpy/main?urlpath=lab/tree/notebooks/04_results/02_stroke/00_model_comparison.ipynb" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch on Binder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img alt="Binder logo" src="../../../_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="initThebeSBT()"
  class="btn btn-sm btn-launch-thebe dropdown-item"
  title="Launch Thebe"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-play"></i>
  </span>
<span class="btn__text-container">Live Code</span>
</button>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/pythonhealthdatascience/llm_simpy" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/pythonhealthdatascience/llm_simpy/issues/new?title=Issue%20on%20page%20%2Fnotebooks/04_results/02_stroke/00_model_comparison.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../_sources/notebooks/04_results/02_stroke/00_model_comparison.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Stroke+Rehab models</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-outputs">Model outputs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-code">Model code</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#complexity-of-setup-and-use-of-models">Complexity of setup and use of models</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#streamlit-interfaces"><code class="docutils literal notranslate"><span class="pre">streamlit</span></code> interfaces</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lines-of-code-data">Lines of code data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prompts">Prompts</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#latex-for-manuscript">LateX for manuscript</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="stroke-rehab-models">
<h1>Stroke+Rehab models<a class="headerlink" href="#stroke-rehab-models" title="Link to this heading">#</a></h1>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
</pre></div>
</div>
</div>
</div>
<section id="model-outputs">
<h2>Model outputs<a class="headerlink" href="#model-outputs" title="Link to this heading">#</a></h2>
<p>The results of the two generated simulations models were identical to 2 decimal places. The results for stage 1 and stage 2 models are reported and compared graphically below in <a class="reference internal" href="#asu-comparison-fig"><span class="std std-numref">Fig. 8</span></a> and <a class="reference internal" href="#rehab-comparison-fig"><span class="std std-numref">Fig. 9</span></a>. The figures show that the <strong>probability of delay</strong> and <strong>ward occupancy</strong> match across the acute and rehabilitation wards within the 2 models.</p>
<p>The outputs from the generated models results replicated the results reported in the original article <span id="id1">[<a class="reference internal" href="#id6" title="Thomas Monks, David Worthington, Michael Allen, Martin Pitt, Ken Stein, and Martin A. James. A modelling tool for capacity planning in acute and community stroke services. BMC Health Services Research, 16:530, 2016. doi:10.1186/s12913-016-1789-4.">Monks <em>et al.</em>, 2016</a>]</span>; although we note that did not run all of the experiments reported in the article.</p>
<figure class="align-default" id="asu-comparison-fig">
<a class="reference internal image-reference" href="../../../_images/asu_comparison.png"><img alt="../../../_images/asu_comparison.png" src="../../../_images/asu_comparison.png" style="height: 500px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 8 </span><span class="caption-text">Acute stroke unit outputs: comparison of stage 1 and stage 2 models</span><a class="headerlink" href="#asu-comparison-fig" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="rehab-comparison-fig">
<a class="reference internal image-reference" href="../../../_images/rehab_comparison.png"><img alt="../../../_images/rehab_comparison.png" src="../../../_images/rehab_comparison.png" style="height: 500px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 9 </span><span class="caption-text">Rehabilitation unit outputs: comparison of stage 1 and stage 2 models</span><a class="headerlink" href="#rehab-comparison-fig" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="model-code">
<h2>Model code<a class="headerlink" href="#model-code" title="Link to this heading">#</a></h2>
<p>The final code files from stage 1 and stage 2 (our internal replication) for the stroke capacity planning model have some substantial differences.  The table below summarises the difference in implementation. Notable differences included an additional <code class="docutils literal notranslate"><span class="pre">PatientType</span></code> class in the stage 2 model; and a six-fold difference in the number of member attributes of the <code class="docutils literal notranslate"><span class="pre">Experiment</span></code> class.  This latter result is somewhat misleading as the same number of model parameters are settable in both models.  The difference is due to the stage 2 generated code making use of a different data structure (we discuss this below regarding difference in the the setup and use of models).</p>
<p>Disregarding comments, documentation and the <code class="docutils literal notranslate"><span class="pre">streamlit</span></code> interface, stage 1 generated a <code class="docutils literal notranslate"><span class="pre">simpy</span></code> model consisting of 436 line of code and stage 2 generated 531 lines of code.  Both models passed the same batch of 34 verification tests.</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Component</p></th>
<th class="head"><p>Number of Attributes (Stage 1)</p></th>
<th class="head"><p>Number of Attributes (Stage 2)</p></th>
<th class="head"><p>Number of Methods/Functions (Stage 1)</p></th>
<th class="head"><p>Number of Methods/Functions (Stage 2)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Experiment</span></code> class</p></td>
<td><p>36</p></td>
<td><p>5</p></td>
<td><p>3</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">PatientType</span></code> class</p></td>
<td><p>N/A</p></td>
<td><p>6</p></td>
<td><p>N/A</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">AcuteStrokeUnit</span></code> model logic class</p></td>
<td><p>5</p></td>
<td><p>7</p></td>
<td><p>6</p></td>
<td><p>7</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">RehabilitationUnit</span></code> model logic class</p></td>
<td><p>6</p></td>
<td><p>18</p></td>
<td><p>7</p></td>
<td><p>9</p></td>
</tr>
<tr class="row-even"><td><p>Functions (excluding classes)</p></td>
<td><p>N/A</p></td>
<td><p>N/A</p></td>
<td><p>11</p></td>
<td><p>10</p></td>
</tr>
</tbody>
</table>
</div>
<p>Table: Count of stroke capacity planning model code components comparing Stages 1 and 2.</p>
<section id="complexity-of-setup-and-use-of-models">
<h3>Complexity of setup and use of models<a class="headerlink" href="#complexity-of-setup-and-use-of-models" title="Link to this heading">#</a></h3>
<p>Although the stage 1 and 2 models produced identical outputs the internal implementation of the <code class="docutils literal notranslate"><span class="pre">Experiment</span></code> class varied substantially. The code generated by the LLM led to quite different interfaces to setup and create an instance of <code class="docutils literal notranslate"><span class="pre">Experiment</span></code> and then to access internal parameters.</p>
<p>For example, in the stage 1 model the code to setup an experiment that simulated a 5% increase in stroke patients, and then check the parameter value was as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># setup experiment</span>
<span class="n">default_experiment</span> <span class="o">=</span> <span class="n">Experiment</span><span class="p">(</span><span class="n">stroke_mean</span><span class="o">=</span><span class="mf">1.2</span><span class="o">*</span><span class="mf">1.05</span><span class="p">)</span>

<span class="c1"># access and check parameter value</span>
<span class="nb">print</span><span class="p">(</span><span class="n">default_experiment</span><span class="o">.</span><span class="n">stroke_mean</span><span class="p">)</span>
</pre></div>
</div>
<p>The equivalent code in stage 2 involved an additional line of code to create a experimentation dictionary and a <em>collection data-structure</em> approach to access the internal parameters.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># setup paramater dictionary</span>
<span class="n">experiment_params</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;patient_types&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;Stroke&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;interarrival_time&quot;</span><span class="p">:</span> <span class="mf">1.2</span> <span class="o">*</span> <span class="mf">1.05</span><span class="p">}}}</span>

<span class="c1"># pass to Experiment. LLM provided code that updates internal parameter dictionaries</span>
<span class="n">future_demand_experiment</span> <span class="o">=</span> <span class="n">Experiment</span><span class="p">(</span><span class="n">experiment_params</span><span class="p">)</span>

<span class="c1"># access and check parameter value</span>
<span class="nb">print</span><span class="p">(</span><span class="n">future_demand_experiment</span><span class="o">.</span><span class="n">params</span><span class="p">[</span><span class="s1">&#39;patient_types&#39;</span><span class="p">][</span><span class="s1">&#39;Stroke&#39;</span><span class="p">][</span><span class="s1">&#39;interarrival_time&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>We do not argue that either of the approaches generated by the LLM is optimal. Rather that there are pro’s and con’s to their implementations. Stage 1 code offers a simple interface, but does not choose a clear naming convention (<code class="docutils literal notranslate"><span class="pre">stroke_mean</span></code> is not specific to inter-arrival time). Stage 1 also does not clearly separate model parameters from the outputs of the experiment. Stage 2 code requires more code and requires a user to understand Python dictionaries. Stage 2’s hierarchy to access parameters is more complex than stage 1’s (including the internal workings of Experiment), but it uses clear specific naming conventions for patients types and their different parameters configurations.</p>
</section>
<section id="streamlit-interfaces">
<h3><code class="docutils literal notranslate"><span class="pre">streamlit</span></code> interfaces<a class="headerlink" href="#streamlit-interfaces" title="Link to this heading">#</a></h3>
<p>The model interfaces were very similar and are depicted in <a class="reference internal" href="#stroke-interface-stage1-fig"><span class="std std-numref">Fig. 10</span></a> and  <a class="reference internal" href="#stroke-interface-stage2-fig"><span class="std std-numref">Fig. 11</span></a>.  The main difference in the interface code generated related to <em>input widgets</em> used to manipulate model input parameters. In stage 1 “numeric boxes” were used where-as in stage 2 “sliders” are used. The former allowed the input parameters to take negative values - that result in a model error (as you cannot have a negative inter-arrival arrival rate) - where-as sliders prevented this unacceptable setting with a minimum value (although still allowed 0).</p>
<figure class="align-default" id="stroke-interface-stage1-fig">
<a class="reference internal image-reference" href="../../../_images/stroke_interface_stage1.png"><img alt="../../../_images/stroke_interface_stage1.png" src="../../../_images/stroke_interface_stage1.png" style="height: 500px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 10 </span><span class="caption-text">Stroke+Rehab model interface generated in Stage 1.</span><a class="headerlink" href="#stroke-interface-stage1-fig" title="Link to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="stroke-interface-stage2-fig">
<a class="reference internal image-reference" href="../../../_images/stroke_interface_stage2.png"><img alt="../../../_images/stroke_interface_stage2.png" src="../../../_images/stroke_interface_stage2.png" style="height: 500px;" /></a>
<figcaption>
<p><span class="caption-number">Fig. 11 </span><span class="caption-text">Stroke+Rehab model interface generated in Stage 2.</span><a class="headerlink" href="#stroke-interface-stage2-fig" title="Link to this image">#</a></p>
</figcaption>
</figure>
</section>
<section id="lines-of-code-data">
<h3>Lines of code data<a class="headerlink" href="#lines-of-code-data" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pygount<span class="w"> </span>--suffix<span class="o">=</span>py<span class="w"> </span>--format<span class="o">=</span>summary<span class="w"> </span>../../03_stroke/stroke_rehab_model.py
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>?25l
Working... <span class=" -Color -Color-C237">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Magenta">  0%</span> <span class=" -Color -Color-Cyan">-:--:--</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Working... <span class=" -Color -Color-C237">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Magenta">  0%</span> <span class=" -Color -Color-Cyan">-:--:--</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Working... <span class=" -Color -Color-C237">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Magenta">  0%</span> <span class=" -Color -Color-Cyan">-:--:--</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Working... <span class=" -Color -Color-Red">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Magenta">100%</span> <span class=" -Color -Color-Cyan">0:00:00</span>
Working... <span class=" -Color -Color-Red">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Magenta">100%</span> <span class=" -Color -Color-Cyan">0:00:00</span>
?25h
┏━━━━━━━━━━┳━━━━━━━┳━━━━━━━┳━━━━━━┳━━━━━━┳━━━━━━━━━┳━━━━━━┓
┃<span class=" -Color -Color-Bold"> Language </span>┃<span class=" -Color -Color-Bold"> Files </span>┃<span class=" -Color -Color-Bold">     % </span>┃<span class=" -Color -Color-Bold"> Code </span>┃<span class=" -Color -Color-Bold">    % </span>┃<span class=" -Color -Color-Bold"> Comment </span>┃<span class=" -Color -Color-Bold">    % </span>┃
┡━━━━━━━━━━╇━━━━━━━╇━━━━━━━╇━━━━━━╇━━━━━━╇━━━━━━━━━╇━━━━━━┩
│ Python   │     1 │ 100.0 │  436 │ 55.2 │     188 │ 23.8 │
├──────────┼───────┼───────┼──────┼──────┼─────────┼──────┤
│ Sum      │     1 │ 100.0 │  436 │ 55.2 │     188 │ 23.8 │
└──────────┴───────┴───────┴──────┴──────┴─────────┴──────┘
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># code for stroke</span>
<span class="c1"># !pygount --suffix=py --format=summary ../../03_stroke/stroke_rehab_model.py</span>
<span class="c1"># !pygount --suffix=py --format=summary ../../03_stroke/stroke_rehab_interface.py</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>pygount<span class="w"> </span>--suffix<span class="o">=</span>py<span class="w"> </span>--format<span class="o">=</span>summary<span class="w"> </span>../../03_stroke/s2_stroke_rehab_model.py
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>?25l
Working... <span class=" -Color -Color-C237">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Magenta">  0%</span> <span class=" -Color -Color-Cyan">-:--:--</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Working... <span class=" -Color -Color-C237">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Magenta">  0%</span> <span class=" -Color -Color-Cyan">-:--:--</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Working... <span class=" -Color -Color-C237">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Magenta">  0%</span> <span class=" -Color -Color-Cyan">-:--:--</span>
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Working... <span class=" -Color -Color-C237">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Magenta">  0%</span> <span class=" -Color -Color-Cyan">-:--:--</span>
Working... <span class=" -Color -Color-Red">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Magenta">100%</span> <span class=" -Color -Color-Cyan">0:00:00</span>
Working... <span class=" -Color -Color-Red">━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━</span> <span class=" -Color -Color-Magenta">100%</span> <span class=" -Color -Color-Cyan">0:00:00</span>
?25h
┏━━━━━━━━━━┳━━━━━━━┳━━━━━━━┳━━━━━━┳━━━━━━┳━━━━━━━━━┳━━━━━┓
┃<span class=" -Color -Color-Bold"> Language </span>┃<span class=" -Color -Color-Bold"> Files </span>┃<span class=" -Color -Color-Bold">     % </span>┃<span class=" -Color -Color-Bold"> Code </span>┃<span class=" -Color -Color-Bold">    % </span>┃<span class=" -Color -Color-Bold"> Comment </span>┃<span class=" -Color -Color-Bold">   % </span>┃
┡━━━━━━━━━━╇━━━━━━━╇━━━━━━━╇━━━━━━╇━━━━━━╇━━━━━━━━━╇━━━━━┩
│ Python   │     1 │ 100.0 │  531 │ 64.6 │      74 │ 9.0 │
├──────────┼───────┼───────┼──────┼──────┼─────────┼─────┤
│ Sum      │     1 │ 100.0 │  531 │ 64.6 │      74 │ 9.0 │
└──────────┴───────┴───────┴──────┴──────┴─────────┴─────┘
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="prompts">
<h2>Prompts<a class="headerlink" href="#prompts" title="Link to this heading">#</a></h2>
<p>In total 31 iterations of the model were used to build the model and interface. In stage 1 this consisted of 41 prompts passed to the LLM. The number of prompts increased to 57 in stage 2. In total <strong>n</strong> (<strong>TO-DO</strong>) additional prompts were needed in stage 2 to fix a variable type bug introduced by the LLM for representing “patient type” across the acute and rehab sections of the model. Stage 2 required 4 additional prompts for introducing common random numbers streams to the LLM struggling to assign streams across model activities  (<strong>TO-do</strong>: check with Alison).</p>
<p>The table below provides a summary of the differences at each iteration.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">highlight_last_row</span><span class="p">(</span><span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">    </span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    highlight the last row (for Totals) in a DataFrame in BOLD.</span>
<span class="sd">    </span>
<span class="sd">    Source:</span>
<span class="sd">    -------</span>

<span class="sd">    Adapted from stackoverflow</span>
<span class="sd">    https://stackoverflow.com/questions/51938245/display-dataframe</span>
<span class="sd">    -values-in-bold-font-in-one-row-only#59493062</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="k">return</span> <span class="p">[</span><span class="s1">&#39;font-weight: bold&#39;</span> <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">df</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># read in prompt results table</span>
<span class="n">prompt_results</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;data/stroke_prompt_table.csv&quot;</span><span class="p">,</span>
                <span class="n">index_col</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;Iteration&#39;</span><span class="p">])</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prompt_results</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">prompt_results</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Totals&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">prompt_results</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">tolist</span><span class="p">()[</span><span class="o">-</span><span class="mi">3</span><span class="p">:]</span>
<span class="n">prompt_results</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">highlight_last_row</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style type="text/css">
#T_b0fed_row31_col0, #T_b0fed_row31_col1, #T_b0fed_row31_col2, #T_b0fed_row31_col3 {
  font-weight: bold;
}
</style>
<table id="T_b0fed">
  <thead>
    <tr>
      <th class="blank level0" >&nbsp;</th>
      <th id="T_b0fed_level0_col0" class="col_heading level0 col0" >Added functionality</th>
      <th id="T_b0fed_level0_col1" class="col_heading level0 col1" >Stage 1</th>
      <th id="T_b0fed_level0_col2" class="col_heading level0 col2" >Stage 2</th>
      <th id="T_b0fed_level0_col3" class="col_heading level0 col3" >Difference</th>
    </tr>
    <tr>
      <th class="index_name level0" >Iteration</th>
      <th class="blank col0" >&nbsp;</th>
      <th class="blank col1" >&nbsp;</th>
      <th class="blank col2" >&nbsp;</th>
      <th class="blank col3" >&nbsp;</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th id="T_b0fed_level0_row0" class="row_heading level0 row0" >1</th>
      <td id="T_b0fed_row0_col0" class="data row0 col0" >Acute stroke unit (ASU) arrivals</td>
      <td id="T_b0fed_row0_col1" class="data row0 col1" >1</td>
      <td id="T_b0fed_row0_col2" class="data row0 col2" >3</td>
      <td id="T_b0fed_row0_col3" class="data row0 col3" >2</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row1" class="row_heading level0 row1" >2</th>
      <td id="T_b0fed_row1_col0" class="data row1 col0" >Sample post stroke unit destination</td>
      <td id="T_b0fed_row1_col1" class="data row1 col1" >1</td>
      <td id="T_b0fed_row1_col2" class="data row1 col2" >1</td>
      <td id="T_b0fed_row1_col3" class="data row1 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row2" class="row_heading level0 row2" >3</th>
      <td id="T_b0fed_row2_col0" class="data row2 col0" >Acute stroke unit length of stay (1)</td>
      <td id="T_b0fed_row2_col1" class="data row2 col1" >1</td>
      <td id="T_b0fed_row2_col2" class="data row2 col2" >2</td>
      <td id="T_b0fed_row2_col3" class="data row2 col3" >1</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row3" class="row_heading level0 row3" >4</th>
      <td id="T_b0fed_row3_col0" class="data row3 col0" >Acute stroke unit length of stay (2)</td>
      <td id="T_b0fed_row3_col1" class="data row3 col1" >1</td>
      <td id="T_b0fed_row3_col2" class="data row3 col2" >1</td>
      <td id="T_b0fed_row3_col3" class="data row3 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row4" class="row_heading level0 row4" >5</th>
      <td id="T_b0fed_row4_col0" class="data row4 col0" >Organise parameters</td>
      <td id="T_b0fed_row4_col1" class="data row4 col1" >1</td>
      <td id="T_b0fed_row4_col2" class="data row4 col2" >1</td>
      <td id="T_b0fed_row4_col3" class="data row4 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row5" class="row_heading level0 row5" >6</th>
      <td id="T_b0fed_row5_col0" class="data row5 col0" >Track ASU bed occupancy</td>
      <td id="T_b0fed_row5_col1" class="data row5 col1" >1</td>
      <td id="T_b0fed_row5_col2" class="data row5 col2" >1</td>
      <td id="T_b0fed_row5_col3" class="data row5 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row6" class="row_heading level0 row6" >7</th>
      <td id="T_b0fed_row6_col0" class="data row6 col0" >Functionality to suppress simulation event log</td>
      <td id="T_b0fed_row6_col1" class="data row6 col1" >2</td>
      <td id="T_b0fed_row6_col2" class="data row6 col2" >2</td>
      <td id="T_b0fed_row6_col3" class="data row6 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row7" class="row_heading level0 row7" >8</th>
      <td id="T_b0fed_row7_col0" class="data row7 col0" >ASU results collection functionality</td>
      <td id="T_b0fed_row7_col1" class="data row7 col1" >1</td>
      <td id="T_b0fed_row7_col2" class="data row7 col2" >2</td>
      <td id="T_b0fed_row7_col3" class="data row7 col3" >1</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row8" class="row_heading level0 row8" >9</th>
      <td id="T_b0fed_row8_col0" class="data row8 col0" >ASU occupancy plot</td>
      <td id="T_b0fed_row8_col1" class="data row8 col1" >1</td>
      <td id="T_b0fed_row8_col2" class="data row8 col2" >1</td>
      <td id="T_b0fed_row8_col3" class="data row8 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row9" class="row_heading level0 row9" >10</th>
      <td id="T_b0fed_row9_col0" class="data row9 col0" >ASU probability of delay</td>
      <td id="T_b0fed_row9_col1" class="data row9 col1" >1</td>
      <td id="T_b0fed_row9_col2" class="data row9 col2" >1</td>
      <td id="T_b0fed_row9_col3" class="data row9 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row10" class="row_heading level0 row10" >11</th>
      <td id="T_b0fed_row10_col0" class="data row10 col0" >Bug fix: add back in code that was removed by LLM</td>
      <td id="T_b0fed_row10_col1" class="data row10 col1" >1</td>
      <td id="T_b0fed_row10_col2" class="data row10 col2" >0</td>
      <td id="T_b0fed_row10_col3" class="data row10 col3" >-1</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row11" class="row_heading level0 row11" >12</th>
      <td id="T_b0fed_row11_col0" class="data row11 col0" >Rehab external arrivals</td>
      <td id="T_b0fed_row11_col1" class="data row11 col1" >1</td>
      <td id="T_b0fed_row11_col2" class="data row11 col2" >1</td>
      <td id="T_b0fed_row11_col3" class="data row11 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row12" class="row_heading level0 row12" >13</th>
      <td id="T_b0fed_row12_col0" class="data row12 col0" >Organise parameters</td>
      <td id="T_b0fed_row12_col1" class="data row12 col1" >2</td>
      <td id="T_b0fed_row12_col2" class="data row12 col2" >2</td>
      <td id="T_b0fed_row12_col3" class="data row12 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row13" class="row_heading level0 row13" >14</th>
      <td id="T_b0fed_row13_col0" class="data row13 col0" >Rehab unit length of stay (1)</td>
      <td id="T_b0fed_row13_col1" class="data row13 col1" >1</td>
      <td id="T_b0fed_row13_col2" class="data row13 col2" >1</td>
      <td id="T_b0fed_row13_col3" class="data row13 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row14" class="row_heading level0 row14" >15</th>
      <td id="T_b0fed_row14_col0" class="data row14 col0" >Organise parameters</td>
      <td id="T_b0fed_row14_col1" class="data row14 col1" >2</td>
      <td id="T_b0fed_row14_col2" class="data row14 col2" >3</td>
      <td id="T_b0fed_row14_col3" class="data row14 col3" >1</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row15" class="row_heading level0 row15" >16</th>
      <td id="T_b0fed_row15_col0" class="data row15 col0" >Rehab unit length of stay (2)</td>
      <td id="T_b0fed_row15_col1" class="data row15 col1" >1</td>
      <td id="T_b0fed_row15_col2" class="data row15 col2" >1</td>
      <td id="T_b0fed_row15_col3" class="data row15 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row16" class="row_heading level0 row16" >17</th>
      <td id="T_b0fed_row16_col0" class="data row16 col0" >Track Rehab unit bed occupancy</td>
      <td id="T_b0fed_row16_col1" class="data row16 col1" >1</td>
      <td id="T_b0fed_row16_col2" class="data row16 col2" >1</td>
      <td id="T_b0fed_row16_col3" class="data row16 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row17" class="row_heading level0 row17" >18</th>
      <td id="T_b0fed_row17_col0" class="data row17 col0" >Rehab unit results collection functionality</td>
      <td id="T_b0fed_row17_col1" class="data row17 col1" >2</td>
      <td id="T_b0fed_row17_col2" class="data row17 col2" >2</td>
      <td id="T_b0fed_row17_col3" class="data row17 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row18" class="row_heading level0 row18" >19</th>
      <td id="T_b0fed_row18_col0" class="data row18 col0" >Link ASU and Rehab models (1)</td>
      <td id="T_b0fed_row18_col1" class="data row18 col1" >1</td>
      <td id="T_b0fed_row18_col2" class="data row18 col2" >1</td>
      <td id="T_b0fed_row18_col3" class="data row18 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row19" class="row_heading level0 row19" >20</th>
      <td id="T_b0fed_row19_col0" class="data row19 col0" >Link ASU and Rehab models (2)</td>
      <td id="T_b0fed_row19_col1" class="data row19 col1" >2</td>
      <td id="T_b0fed_row19_col2" class="data row19 col2" >6</td>
      <td id="T_b0fed_row19_col3" class="data row19 col3" >4</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row20" class="row_heading level0 row20" >21</th>
      <td id="T_b0fed_row20_col0" class="data row20 col0" >Warm-up period</td>
      <td id="T_b0fed_row20_col1" class="data row20 col1" >2</td>
      <td id="T_b0fed_row20_col2" class="data row20 col2" >5</td>
      <td id="T_b0fed_row20_col3" class="data row20 col3" >3</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row21" class="row_heading level0 row21" >22</th>
      <td id="T_b0fed_row21_col0" class="data row21 col0" >Multiple replications (1)</td>
      <td id="T_b0fed_row21_col1" class="data row21 col1" >1</td>
      <td id="T_b0fed_row21_col2" class="data row21 col2" >1</td>
      <td id="T_b0fed_row21_col3" class="data row21 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row22" class="row_heading level0 row22" >23</th>
      <td id="T_b0fed_row22_col0" class="data row22 col0" >Multiple replications (2)</td>
      <td id="T_b0fed_row22_col1" class="data row22 col1" >1</td>
      <td id="T_b0fed_row22_col2" class="data row22 col2" >2</td>
      <td id="T_b0fed_row22_col3" class="data row22 col3" >1</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row23" class="row_heading level0 row23" >24</th>
      <td id="T_b0fed_row23_col0" class="data row23 col0" >Common random numbers (1)</td>
      <td id="T_b0fed_row23_col1" class="data row23 col1" >1</td>
      <td id="T_b0fed_row23_col2" class="data row23 col2" >1</td>
      <td id="T_b0fed_row23_col3" class="data row23 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row24" class="row_heading level0 row24" >25</th>
      <td id="T_b0fed_row24_col0" class="data row24 col0" >Common random numbers (2)</td>
      <td id="T_b0fed_row24_col1" class="data row24 col1" >1</td>
      <td id="T_b0fed_row24_col2" class="data row24 col2" >1</td>
      <td id="T_b0fed_row24_col3" class="data row24 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row25" class="row_heading level0 row25" >26</th>
      <td id="T_b0fed_row25_col0" class="data row25 col0" >Common random numbers (3)</td>
      <td id="T_b0fed_row25_col1" class="data row25 col1" >2</td>
      <td id="T_b0fed_row25_col2" class="data row25 col2" >5</td>
      <td id="T_b0fed_row25_col3" class="data row25 col3" >3</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row26" class="row_heading level0 row26" >27</th>
      <td id="T_b0fed_row26_col0" class="data row26 col0" >Common random numbers (4)</td>
      <td id="T_b0fed_row26_col1" class="data row26 col1" >2</td>
      <td id="T_b0fed_row26_col2" class="data row26 col2" >2</td>
      <td id="T_b0fed_row26_col3" class="data row26 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row27" class="row_heading level0 row27" >28</th>
      <td id="T_b0fed_row27_col0" class="data row27 col0" >Model interface (1)</td>
      <td id="T_b0fed_row27_col1" class="data row27 col1" >1</td>
      <td id="T_b0fed_row27_col2" class="data row27 col2" >1</td>
      <td id="T_b0fed_row27_col3" class="data row27 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row28" class="row_heading level0 row28" >29</th>
      <td id="T_b0fed_row28_col0" class="data row28 col0" >Model interface (2)</td>
      <td id="T_b0fed_row28_col1" class="data row28 col1" >1</td>
      <td id="T_b0fed_row28_col2" class="data row28 col2" >2</td>
      <td id="T_b0fed_row28_col3" class="data row28 col3" >1</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row29" class="row_heading level0 row29" >30</th>
      <td id="T_b0fed_row29_col0" class="data row29 col0" >Model interface (3)</td>
      <td id="T_b0fed_row29_col1" class="data row29 col1" >1</td>
      <td id="T_b0fed_row29_col2" class="data row29 col2" >1</td>
      <td id="T_b0fed_row29_col3" class="data row29 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row30" class="row_heading level0 row30" >31</th>
      <td id="T_b0fed_row30_col0" class="data row30 col0" >Bug fix</td>
      <td id="T_b0fed_row30_col1" class="data row30 col1" >3</td>
      <td id="T_b0fed_row30_col2" class="data row30 col2" >3</td>
      <td id="T_b0fed_row30_col3" class="data row30 col3" >0</td>
    </tr>
    <tr>
      <th id="T_b0fed_level0_row31" class="row_heading level0 row31" >32</th>
      <td id="T_b0fed_row31_col0" class="data row31 col0" >Totals</td>
      <td id="T_b0fed_row31_col1" class="data row31 col1" >41</td>
      <td id="T_b0fed_row31_col2" class="data row31 col2" >57</td>
      <td id="T_b0fed_row31_col3" class="data row31 col3" >16</td>
    </tr>
  </tbody>
</table>
</div></div>
</div>
</section>
<section id="latex-for-manuscript">
<h2>LateX for manuscript<a class="headerlink" href="#latex-for-manuscript" title="Link to this heading">#</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">caption</span> <span class="o">=</span> <span class="s2">&quot;The number of prompts given to the LLM &quot;</span> \
          <span class="o">+</span> <span class="s2">&quot;at each iteration of the stroke capacity planning model).&quot;</span>
                
<span class="nb">print</span><span class="p">(</span><span class="n">prompt_results</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">to_latex</span><span class="p">(</span><span class="n">caption</span><span class="o">=</span><span class="n">caption</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>\begin{table}
\caption{The number of prompts given to the LLM at each iteration of the stroke capacity planning model).}
\begin{tabular}{llrrr}
 &amp; Added functionality &amp; Stage 1 &amp; Stage 2 &amp; Difference \\
Iteration &amp;  &amp;  &amp;  &amp;  \\
1 &amp; Acute stroke unit (ASU) arrivals &amp; 1 &amp; 3 &amp; 2 \\
2 &amp; Sample post stroke unit destination &amp; 1 &amp; 1 &amp; 0 \\
3 &amp; Acute stroke unit length of stay (1) &amp; 1 &amp; 2 &amp; 1 \\
4 &amp; Acute stroke unit length of stay (2) &amp; 1 &amp; 1 &amp; 0 \\
5 &amp; Organise parameters &amp; 1 &amp; 1 &amp; 0 \\
6 &amp; Track ASU bed occupancy &amp; 1 &amp; 1 &amp; 0 \\
7 &amp; Functionality to suppress simulation event log &amp; 2 &amp; 2 &amp; 0 \\
8 &amp; ASU results collection functionality &amp; 1 &amp; 2 &amp; 1 \\
9 &amp; ASU occupancy plot &amp; 1 &amp; 1 &amp; 0 \\
10 &amp; ASU probability of delay &amp; 1 &amp; 1 &amp; 0 \\
11 &amp; Bug fix: add back in code that was removed by LLM &amp; 1 &amp; 0 &amp; -1 \\
12 &amp; Rehab external arrivals &amp; 1 &amp; 1 &amp; 0 \\
13 &amp; Organise parameters &amp; 2 &amp; 2 &amp; 0 \\
14 &amp; Rehab unit length of stay (1) &amp; 1 &amp; 1 &amp; 0 \\
15 &amp; Organise parameters &amp; 2 &amp; 3 &amp; 1 \\
16 &amp; Rehab unit length of stay (2) &amp; 1 &amp; 1 &amp; 0 \\
17 &amp; Track Rehab unit bed occupancy &amp; 1 &amp; 1 &amp; 0 \\
18 &amp; Rehab unit results collection functionality &amp; 2 &amp; 2 &amp; 0 \\
19 &amp; Link ASU and Rehab models (1) &amp; 1 &amp; 1 &amp; 0 \\
20 &amp; Link ASU and Rehab models (2) &amp; 2 &amp; 6 &amp; 4 \\
21 &amp; Warm-up period &amp; 2 &amp; 5 &amp; 3 \\
22 &amp; Multiple replications (1) &amp; 1 &amp; 1 &amp; 0 \\
23 &amp; Multiple replications (2) &amp; 1 &amp; 2 &amp; 1 \\
24 &amp; Common random numbers (1) &amp; 1 &amp; 1 &amp; 0 \\
25 &amp; Common random numbers (2) &amp; 1 &amp; 1 &amp; 0 \\
26 &amp; Common random numbers (3) &amp; 2 &amp; 5 &amp; 3 \\
27 &amp; Common random numbers (4) &amp; 2 &amp; 2 &amp; 0 \\
28 &amp; Model interface (1) &amp; 1 &amp; 1 &amp; 0 \\
29 &amp; Model interface (2) &amp; 1 &amp; 2 &amp; 1 \\
30 &amp; Model interface (3) &amp; 1 &amp; 1 &amp; 0 \\
31 &amp; Bug fix &amp; 3 &amp; 3 &amp; 0 \\
32 &amp; Totals &amp; 41 &amp; 57 &amp; 16 \\
\end{tabular}
\end{table}
</pre></div>
</div>
</div>
</div>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading">#</a></h2>
<div class="docutils container" id="id2">
<div role="list" class="citation-list">
<div class="citation" id="id6" role="doc-biblioentry">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Thomas Monks, David Worthington, Michael Allen, Martin Pitt, Ken Stein, and Martin A. James. A modelling tool for capacity planning in acute and community stroke services. <em>BMC Health Services Research</em>, 16:530, 2016. <a class="reference external" href="https://doi.org/10.1186/s12913-016-1789-4">doi:10.1186/s12913-016-1789-4</a>.</p>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "pythonhealthdatascience/llm_simpy",
            ref: "main",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./notebooks/04_results/02_stroke"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="../01_CCU/00_model_comparison.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">CCU models</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-outputs">Model outputs</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#model-code">Model code</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#complexity-of-setup-and-use-of-models">Complexity of setup and use of models</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#streamlit-interfaces"><code class="docutils literal notranslate"><span class="pre">streamlit</span></code> interfaces</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lines-of-code-data">Lines of code data</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prompts">Prompts</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#latex-for-manuscript">LateX for manuscript</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Thomas Monks
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>