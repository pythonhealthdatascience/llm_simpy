Traceback (most recent call last):
  File "/home/tom/miniconda3/envs/gen_simpy/lib/python3.10/site-packages/jupyter_cache/executors/utils.py", line 58, in single_nb_execution
    executenb(
  File "/home/tom/miniconda3/envs/gen_simpy/lib/python3.10/site-packages/nbclient/client.py", line 1305, in execute
    return NotebookClient(nb=nb, resources=resources, km=km, **kwargs).execute()
  File "/home/tom/miniconda3/envs/gen_simpy/lib/python3.10/site-packages/jupyter_core/utils/__init__.py", line 173, in wrapped
    return loop.run_until_complete(inner)
  File "/home/tom/miniconda3/envs/gen_simpy/lib/python3.10/asyncio/base_events.py", line 649, in run_until_complete
    return future.result()
  File "/home/tom/miniconda3/envs/gen_simpy/lib/python3.10/site-packages/nbclient/client.py", line 705, in async_execute
    await self.async_execute_cell(
  File "/home/tom/miniconda3/envs/gen_simpy/lib/python3.10/site-packages/nbclient/client.py", line 1058, in async_execute_cell
    await self._check_raise_for_error(cell, cell_index, exec_reply)
  File "/home/tom/miniconda3/envs/gen_simpy/lib/python3.10/site-packages/nbclient/client.py", line 914, in _check_raise_for_error
    raise CellExecutionError.from_cell_and_msg(cell, exec_reply_content)
nbclient.exceptions.CellExecutionError: An error occurred while executing the following cell:
------------------
test_results_collection_period(10)
------------------

----- stdout -----
Patient 1 arrived from Emergency surgery at time 0.9414495175451922
Patient 1 admitted to critical care bed at time 0.9414495175451922
Patient 2 arrived from the Wards at time 3.1617302676588093
Patient 2 admitted to critical care bed at time 3.1617302676588093
Patient 3 arrived from the Wards at time 7.905309553674521
Patient 3 admitted to critical care bed at time 7.905309553674521
Patient 4 arrived from the Wards at time 19.547568496082196
Patient 4 admitted to critical care bed at time 19.547568496082196
Elective surgery patient 5 arrived at time 22.34264380218712
Elective surgery patient 5 admitted to critical care bed at time 22.34264380218712
Patient 6 arrived from Emergency surgery at time 24.596206678271432
Patient 6 admitted to critical care bed at time 24.596206678271432
Patient 7 arrived from Emergency surgery at time 28.748152529964468
Patient 7 admitted to critical care bed at time 28.748152529964468
Patient 8 arrived from Emergency surgery at time 33.42869519770052
Patient 8 admitted to critical care bed at time 33.42869519770052
Elective surgery patient 9 arrived at time 35.54948635569062
Elective surgery patient 9 admitted to critical care bed at time 35.54948635569062
Elective surgery patient 9 discharged from critical care bed at time 35.68281027231651
Patient 9 discharged from critical care bed at time 36.398710849464976
Patient 10 arrived from Accident and Emergency at time 37.94834780718268
Patient 10 admitted to critical care bed at time 37.94834780718268
Critical care bed is available for next patient at time 40.68281027231651
Critical care bed is available for next patient at time 41.398710849464976
Patient 10 discharged from critical care bed at time 43.269536786473815
Patient 11 arrived from the Wards at time 45.46516826065778
Patient 11 admitted to critical care bed at time 45.46516826065778
Critical care bed is available for next patient at time 48.269536786473815
Elective surgery patient 12 arrived at time 53.99220059371548
Elective surgery patient 12 admitted to critical care bed at time 53.99220059371548
Patient 12 discharged from critical care bed at time 56.10851607983783
Critical care bed is available for next patient at time 61.10851607983783
Patient 12 discharged from critical care bed at time 62.922696318149036
Patient 12 discharged from critical care bed at time 66.22051630710851
Critical care bed is available for next patient at time 67.92269631814904
Elective surgery patient 12 discharged from critical care bed at time 68.12533300679691
Elective surgery patient 13 arrived at time 70.87786927843104
Elective surgery patient 13 admitted to critical care bed at time 70.87786927843104
Critical care bed is available for next patient at time 71.22051630710851
Critical care bed is available for next patient at time 73.12533300679691
Patient 14 arrived from the Wards at time 76.8043663680252
Patient 14 admitted to critical care bed at time 76.8043663680252
Patient 15 arrived from Accident and Emergency at time 77.95502325159143
Patient 15 admitted to critical care bed at time 77.95502325159143
Patient 15 discharged from critical care bed at time 87.70965992773067
Elective surgery patient 16 arrived at time 88.64098912355202
Elective surgery patient 16 admitted to critical care bed at time 88.64098912355202
Patient 16 discharged from critical care bed at time 89.4256597822221
Critical care bed is available for next patient at time 92.70965992773067
Critical care bed is available for next patient at time 94.4256597822221
Patient 17 arrived from Emergency surgery at time 95.22410411949465
Patient 17 admitted to critical care bed at time 95.22410411949465
Patient 18 arrived from Emergency surgery at time 95.2412545221013
Patient 18 admitted to critical care bed at time 95.2412545221013
Patient 19 arrived from the Wards at time 99.44256053197225
Patient 19 admitted to critical care bed at time 99.44256053197225
Elective surgery patient 20 arrived at time 103.74350066389906
Elective surgery patient 20 admitted to critical care bed at time 103.74350066389906
Patient 21 arrived from the Wards at time 106.81953664992494
Patient 21 admitted to critical care bed at time 106.81953664992494
Elective surgery patient 21 discharged from critical care bed at time 109.10002272232153
Patient 22 arrived from Emergency surgery at time 110.2837889583293
Patient 22 admitted to critical care bed at time 110.2837889583293
Patient 22 discharged from critical care bed at time 110.96236956994655
Patient 22 discharged from critical care bed at time 113.38355027788035
Critical care bed is available for next patient at time 114.10002272232153
Critical care bed is available for next patient at time 115.96236956994655
Critical care bed is available for next patient at time 118.38355027788035
Elective surgery patient 23 arrived at time 120.04382709387761
Elective surgery patient 23 admitted to critical care bed at time 120.04382709387761
Patient 24 arrived from Accident and Emergency at time 125.4452147838469
Patient 24 admitted to critical care bed at time 125.4452147838469
Elective surgery patient 24 discharged from critical care bed at time 132.42580814842108
Critical care bed is available for next patient at time 137.42580814842108
Patient 25 arrived from the X-Ray department at time 138.1486280830782
Patient 25 admitted to critical care bed at time 138.1486280830782
Patient 26 arrived from Emergency surgery at time 140.9471570202807
Patient 26 admitted to critical care bed at time 140.9471570202807
Patient 27 arrived from Emergency surgery at time 141.46582563520016
Patient 27 admitted to critical care bed at time 141.46582563520016
Patient 28 arrived from Emergency surgery at time 141.75908069481537
Patient 28 admitted to critical care bed at time 141.75908069481537
Patient 29 arrived from the Wards at time 142.0835003504136
Patient 29 admitted to critical care bed at time 142.0835003504136
Elective surgery patient 30 arrived at time 142.88352324599833
Elective surgery patient 30 admitted to critical care bed at time 142.88352324599833
Elective surgery patient 30 discharged from critical care bed at time 152.46827555332234
Elective surgery patient 31 arrived at time 156.89368002332165
Elective surgery patient 31 admitted to critical care bed at time 156.89368002332165
Critical care bed is available for next patient at time 157.46827555332234
Patient 32 arrived from Accident and Emergency at time 163.37747690752775
Patient 32 admitted to critical care bed at time 163.37747690752775
Patient 32 discharged from critical care bed at time 167.94271647060322
Elective surgery patient 32 discharged from critical care bed at time 171.06295001894887
Critical care bed is available for next patient at time 172.94271647060322
Patient 32 discharged from critical care bed at time 175.39121977210823
Elective surgery patient 33 arrived at time 175.65079840650196
Elective surgery patient 33 admitted to critical care bed at time 175.65079840650196
Critical care bed is available for next patient at time 176.06295001894887
Patient 33 discharged from critical care bed at time 176.41538347061018
Critical care bed is available for next patient at time 180.39121977210823
Elective surgery patient 33 discharged from critical care bed at time 181.06306844180108
Critical care bed is available for next patient at time 181.41538347061018
Patient 34 arrived from Emergency surgery at time 182.07681267678967
Patient 34 admitted to critical care bed at time 182.07681267678967
Patient 34 discharged from critical care bed at time 185.4835479785411
Patient 35 arrived from the Wards at time 185.70845866789472
Patient 35 admitted to critical care bed at time 185.70845866789472
Critical care bed is available for next patient at time 186.06306844180108
Patient 35 discharged from critical care bed at time 188.84111210469277
Critical care bed is available for next patient at time 190.4835479785411
Patient 35 discharged from critical care bed at time 193.80741986607748
Critical care bed is available for next patient at time 193.84111210469277
Patient 36 arrived from Emergency surgery at time 194.1251238254179
Patient 36 admitted to critical care bed at time 194.1251238254179
Elective surgery patient 37 arrived at time 194.5729113022231
Elective surgery patient 37 admitted to critical care bed at time 194.5729113022231
Critical care bed is available for next patient at time 198.80741986607748
Patient 38 arrived from Emergency surgery at time 206.99732744375285
Patient 38 admitted to critical care bed at time 206.99732744375285
Patient 39 arrived from the Wards at time 207.66446373394973
Patient 39 admitted to critical care bed at time 207.66446373394973
Patient 40 arrived from the Wards at time 209.68229682346572
Patient 40 admitted to critical care bed at time 209.68229682346572
Patient 40 discharged from critical care bed at time 214.4703534121478
Elective surgery patient 41 arrived at time 215.06328807321358
Elective surgery patient 41 admitted to critical care bed at time 215.06328807321358
Patient 41 discharged from critical care bed at time 215.54716185031867
Critical care bed is available for next patient at time 219.4703534121478
Critical care bed is available for next patient at time 220.54716185031867
Elective surgery patient 41 discharged from critical care bed at time 221.94331809011672
Patient 41 discharged from critical care bed at time 222.7282220844779
Patient 42 arrived from the Wards at time 222.73428836316327
Patient 42 admitted to critical care bed at time 222.73428836316327
Patient 42 discharged from critical care bed at time 223.25484445341385
Patient 42 discharged from critical care bed at time 223.2996645449678
Patient 43 arrived from Emergency surgery at time 223.3952736835665
Patient 43 admitted to critical care bed at time 223.3952736835665
Patient 43 discharged from critical care bed at time 224.31820533473066
Patient 44 arrived from the Wards at time 224.60527669232934
Patient 44 admitted to critical care bed at time 224.60527669232934
Patient 44 discharged from critical care bed at time 224.9748656693092
Critical care bed is available for next patient at time 226.94331809011672
Elective surgery patient 45 arrived at time 227.11949861739086
Elective surgery patient 45 admitted to critical care bed at time 227.11949861739086
Critical care bed is available for next patient at time 227.7282220844779
Critical care bed is available for next patient at time 228.25484445341385
Critical care bed is available for next patient at time 228.2996645449678
Elective surgery patient 45 discharged from critical care bed at time 228.70291694331382
Critical care bed is available for next patient at time 229.31820533473066
Elective surgery patient 45 discharged from critical care bed at time 229.6734155800103
Critical care bed is available for next patient at time 229.9748656693092
Patient 46 arrived from other hospitals at time 231.02309752939848
Patient 46 admitted to critical care bed at time 231.02309752939848
Patient 47 arrived from the Wards at time 232.0909073955791
Patient 47 admitted to critical care bed at time 232.0909073955791
Elective surgery patient 47 discharged from critical care bed at time 232.6652790339367
Critical care bed is available for next patient at time 233.70291694331382
Critical care bed is available for next patient at time 234.6734155800103
Patient 48 arrived from Accident and Emergency at time 235.1108303060486
Patient 48 admitted to critical care bed at time 235.1108303060486
Patient 49 arrived from Emergency surgery at time 237.32563051252342
Patient 49 admitted to critical care bed at time 237.32563051252342
Patient 49 discharged from critical care bed at time 237.44217450615696
Critical care bed is available for next patient at time 237.6652790339367
Critical care bed is available for next patient at time 242.44217450615696
Elective surgery patient 49 discharged from critical care bed at time 243.7259440733362
Patient 49 discharged from critical care bed at time 246.25729925502145
Elective surgery patient 50 arrived at time 246.54274936517936
Elective surgery patient 50 admitted to critical care bed at time 246.54274936517936
Critical care bed is available for next patient at time 248.7259440733362
Critical care bed is available for next patient at time 251.25729925502145
Elective surgery patient 50 discharged from critical care bed at time 253.48317388526226
Patient 51 arrived from other hospitals at time 256.15350381020255
Patient 51 admitted to critical care bed at time 256.15350381020255
Elective surgery patient 51 discharged from critical care bed at time 258.17136928268656
Critical care bed is available for next patient at time 258.48317388526226
Patient 52 arrived from Accident and Emergency at time 259.64681049055724
Patient 52 admitted to critical care bed at time 259.64681049055724
Patient 53 arrived from Emergency surgery at time 260.26209851430406
Patient 53 admitted to critical care bed at time 260.26209851430406
Critical care bed is available for next patient at time 263.17136928268656
Patient 53 discharged from critical care bed at time 263.3081266410212
Patient 53 discharged from critical care bed at time 263.3655205650695
Elective surgery patient 54 arrived at time 264.90074512908177
Elective surgery patient 54 admitted to critical care bed at time 264.90074512908177
Patient 54 discharged from critical care bed at time 267.2791497985875
Critical care bed is available for next patient at time 268.3081266410212
Critical care bed is available for next patient at time 268.3655205650695
Patient 54 discharged from critical care bed at time 268.5428350215633
Patient 55 arrived from Emergency surgery at time 270.3236077673494
Patient 55 admitted to critical care bed at time 270.3236077673494
Patient 55 discharged from critical care bed at time 271.48252109582825
Critical care bed is available for next patient at time 272.2791497985875
Critical care bed is available for next patient at time 273.5428350215633
Critical care bed is available for next patient at time 276.48252109582825
Patient 55 discharged from critical care bed at time 277.83340909489203
Patient 56 arrived from Accident and Emergency at time 278.4716325387459
Patient 56 admitted to critical care bed at time 278.4716325387459
Critical care bed is available for next patient at time 282.83340909489203
Elective surgery patient 57 arrived at time 283.7387118219493
Elective surgery patient 57 admitted to critical care bed at time 283.7387118219493
Patient 58 arrived from Accident and Emergency at time 290.1605062704942
Patient 58 admitted to critical care bed at time 290.1605062704942
Elective surgery patient 58 discharged from critical care bed at time 290.47544521610337
Patient 58 discharged from critical care bed at time 293.953432737551
Patient 59 arrived from other hospitals at time 294.91044470301694
Patient 59 admitted to critical care bed at time 294.91044470301694
Patient 59 discharged from critical care bed at time 295.0954273125683
Critical care bed is available for next patient at time 295.47544521610337
Patient 59 discharged from critical care bed at time 297.2656134386348
Critical care bed is available for next patient at time 298.953432737551
Critical care bed is available for next patient at time 300.0954273125683
Critical care bed is available for next patient at time 302.2656134386348
Elective surgery patient 60 arrived at time 302.9203947122007
Elective surgery patient 60 admitted to critical care bed at time 302.9203947122007
Patient 61 arrived from Accident and Emergency at time 308.5941464338638
Patient 61 admitted to critical care bed at time 308.5941464338638
Elective surgery patient 62 arrived at time 322.55453830788036
Elective surgery patient 62 admitted to critical care bed at time 322.55453830788036
Patient 63 arrived from Emergency surgery at time 325.35360141215034
Patient 63 admitted to critical care bed at time 325.35360141215034
Patient 63 discharged from critical care bed at time 325.70231712738087
Patient 63 discharged from critical care bed at time 326.4603541600206
Patient 63 discharged from critical care bed at time 329.53919940424584
Critical care bed is available for next patient at time 330.70231712738087
Critical care bed is available for next patient at time 331.4603541600206
Critical care bed is available for next patient at time 334.53919940424584
Elective surgery patient 64 arrived at time 335.4157640107997
Elective surgery patient 64 admitted to critical care bed at time 335.4157640107997
Patient 64 discharged from critical care bed at time 338.3897798679839
Critical care bed is available for next patient at time 343.3897798679839
Patient 65 arrived from Accident and Emergency at time 343.9521418794111
Patient 65 admitted to critical care bed at time 343.9521418794111
Patient 66 arrived from Emergency surgery at time 350.27273916004117
Patient 66 admitted to critical care bed at time 350.27273916004117
Elective surgery patient 66 discharged from critical care bed at time 353.1154896915558
Elective surgery patient 67 arrived at time 354.4650095490741
Elective surgery patient 67 admitted to critical care bed at time 354.4650095490741
Patient 68 arrived from Accident and Emergency at time 355.0266357241215
Patient 68 admitted to critical care bed at time 355.0266357241215
Elective surgery patient 68 discharged from critical care bed at time 357.4750472345483
Critical care bed is available for next patient at time 358.1154896915558
Patient 68 discharged from critical care bed at time 358.7925351114371
Patient 68 discharged from critical care bed at time 361.59929549045376
Critical care bed is available for next patient at time 362.4750472345483
Patient 69 arrived from the Wards at time 363.1851074608912
Patient 69 admitted to critical care bed at time 363.1851074608912
Critical care bed is available for next patient at time 363.7925351114371
Critical care bed is available for next patient at time 366.59929549045376
Patient 70 arrived from the Wards at time 367.774601341829
Patient 70 admitted to critical care bed at time 367.774601341829
Patient 70 discharged from critical care bed at time 371.4773563168068
Elective surgery patient 71 arrived at time 374.16686076767223
Elective surgery patient 71 admitted to critical care bed at time 374.16686076767223
Critical care bed is available for next patient at time 376.4773563168068
Patient 71 discharged from critical care bed at time 379.31753760524106
Patient 72 arrived from Accident and Emergency at time 380.6333548105994
Patient 72 admitted to critical care bed at time 380.6333548105994
Critical care bed is available for next patient at time 384.31753760524106
Patient 73 arrived from Emergency surgery at time 387.37937471782044
Patient 73 admitted to critical care bed at time 387.37937471782044
Elective surgery patient 73 discharged from critical care bed at time 392.9644992586916
Elective surgery patient 74 arrived at time 393.97156663512766
Elective surgery patient 74 admitted to critical care bed at time 393.97156663512766
Elective surgery patient 74 discharged from critical care bed at time 396.7180792715627
Critical care bed is available for next patient at time 397.9644992586916
Critical care bed is available for next patient at time 401.7180792715627
Patient 74 discharged from critical care bed at time 407.1993401954844
Critical care bed is available for next patient at time 412.1993401954844
Elective surgery patient 75 arrived at time 413.7483894843825
Elective surgery patient 75 admitted to critical care bed at time 413.7483894843825
Patient 75 discharged from critical care bed at time 416.75494267960323
Elective surgery patient 75 discharged from critical care bed at time 416.75840759272387
Patient 76 arrived from the Wards at time 417.6920364264447
Patient 76 admitted to critical care bed at time 417.6920364264447
Patient 76 discharged from critical care bed at time 418.86562952126974
Critical care bed is available for next patient at time 421.75494267960323
Critical care bed is available for next patient at time 421.75840759272387
Elective surgery patient 76 discharged from critical care bed at time 422.62494597686333
Critical care bed is available for next patient at time 423.86562952126974
Patient 76 discharged from critical care bed at time 425.2812516335116
Critical care bed is available for next patient at time 427.62494597686333
Patient 77 arrived from Accident and Emergency at time 427.69057520610835
Patient 77 admitted to critical care bed at time 427.69057520610835
Elective surgery patient 77 discharged from critical care bed at time 429.16899258850225
Critical care bed is available for next patient at time 430.2812516335116
Elective surgery patient 78 arrived at time 432.49351344417676
Elective surgery patient 78 admitted to critical care bed at time 432.49351344417676
Patient 79 arrived from the Wards at time 432.83380822039487
Patient 79 admitted to critical care bed at time 432.83380822039487
Critical care bed is available for next patient at time 434.16899258850225
Patient 80 arrived from other hospitals at time 442.49544831766474
Patient 80 admitted to critical care bed at time 442.49544831766474
Elective surgery patient 81 arrived at time 449.98252969787643
Elective surgery patient 81 admitted to critical care bed at time 449.98252969787643
Patient 81 discharged from critical care bed at time 450.9936160032436
Critical care bed is available for next patient at time 455.9936160032436
Patient 82 arrived from Accident and Emergency at time 458.0616413070105
Patient 82 admitted to critical care bed at time 458.0616413070105
Patient 83 arrived from the Wards at time 463.4644655020842
Patient 83 admitted to critical care bed at time 463.4644655020842
Patient 84 arrived from the Wards at time 464.78918487533446
Patient 84 admitted to critical care bed at time 464.78918487533446
Elective surgery patient 85 arrived at time 464.9916805767728
Elective surgery patient 85 admitted to critical care bed at time 464.9916805767728
Elective surgery patient 85 discharged from critical care bed at time 465.9555161756135
Patient 86 arrived from Accident and Emergency at time 466.3527832635242
Patient 86 admitted to critical care bed at time 466.3527832635242
Critical care bed is available for next patient at time 470.9555161756135
Patient 87 arrived from Accident and Emergency at time 471.8888663461265
Patient 87 admitted to critical care bed at time 471.8888663461265
Patient 87 discharged from critical care bed at time 472.45850940911146
Elective surgery patient 87 discharged from critical care bed at time 474.38171265525375
Critical care bed is available for next patient at time 477.45850940911146
Critical care bed is available for next patient at time 479.38171265525375
Patient 88 arrived from Emergency surgery at time 483.5631850635437
Patient 88 admitted to critical care bed at time 483.5631850635437
Elective surgery patient 89 arrived at time 485.7011674733309
Elective surgery patient 89 admitted to critical care bed at time 485.7011674733309
Patient 89 discharged from critical care bed at time 488.76041678832485
Patient 89 discharged from critical care bed at time 489.0663869527009
Critical care bed is available for next patient at time 493.76041678832485
Patient 89 discharged from critical care bed at time 493.87760585220985
Critical care bed is available for next patient at time 494.0663869527009
Patient 90 arrived from Accident and Emergency at time 495.5046830749752
Patient 90 admitted to critical care bed at time 495.5046830749752
Patient 90 discharged from critical care bed at time 495.9482572519467
Patient 91 arrived from Emergency surgery at time 498.3857372949342
Patient 91 admitted to critical care bed at time 498.3857372949342
Critical care bed is available for next patient at time 498.87760585220985
Patient 92 arrived from the Wards at time 499.4130524280614
Patient 92 admitted to critical care bed at time 499.4130524280614
Critical care bed is available for next patient at time 500.9482572519467
Elective surgery patient 92 discharged from critical care bed at time 502.3638134940128
Elective surgery patient 93 arrived at time 503.7590970204171
Elective surgery patient 93 admitted to critical care bed at time 503.7590970204171
Patient 94 arrived from Emergency surgery at time 505.6548485445551
Patient 94 admitted to critical care bed at time 505.6548485445551
Patient 95 arrived from Accident and Emergency at time 506.0139455903249
Patient 95 admitted to critical care bed at time 506.0139455903249
Critical care bed is available for next patient at time 507.3638134940128
Patient 96 arrived from Accident and Emergency at time 509.7700629503496
Patient 96 admitted to critical care bed at time 509.7700629503496
Elective surgery patient 96 discharged from critical care bed at time 510.7784940971727
Patient 96 discharged from critical care bed at time 514.2362422709073
Critical care bed is available for next patient at time 515.7784940971727
Patient 96 discharged from critical care bed at time 519.1174879318596
Critical care bed is available for next patient at time 519.2362422709073
Critical care bed is available for next patient at time 524.1174879318596
Patient 96 discharged from critical care bed at time 524.4680859540206
Patient 96 discharged from critical care bed at time 524.822477050778
Elective surgery patient 97 arrived at time 524.9276105713291
Elective surgery patient 97 admitted to critical care bed at time 524.9276105713291
Patient 98 arrived from Emergency surgery at time 525.2944555905809
Patient 98 admitted to critical care bed at time 525.2944555905809
Critical care bed is available for next patient at time 529.4680859540206
Critical care bed is available for next patient at time 529.822477050778
Patient 98 discharged from critical care bed at time 533.8954776454418
Patient 98 discharged from critical care bed at time 533.9364463658067
Patient 98 discharged from critical care bed at time 536.5095624633974
Critical care bed is available for next patient at time 538.8954776454418
Critical care bed is available for next patient at time 538.9364463658067
Elective surgery patient 99 arrived at time 539.2345043765587
Elective surgery patient 99 admitted to critical care bed at time 539.2345043765587
Patient 100 arrived from Accident and Emergency at time 541.4094074521851
Patient 100 admitted to critical care bed at time 541.4094074521851
Critical care bed is available for next patient at time 541.5095624633974
Elective surgery patient 100 discharged from critical care bed at time 542.943800089415
Patient 100 discharged from critical care bed at time 546.778400113685
Elective surgery patient 100 discharged from critical care bed at time 547.6264909262158
Critical care bed is available for next patient at time 547.943800089415
Patient 101 arrived from Emergency surgery at time 548.4945984332874
Patient 101 admitted to critical care bed at time 548.4945984332874
Critical care bed is available for next patient at time 551.778400113685
Critical care bed is available for next patient at time 552.6264909262158
Elective surgery patient 101 discharged from critical care bed at time 552.9006266875463
Patient 101 discharged from critical care bed at time 556.1310002897103
Patient 101 discharged from critical care bed at time 556.9022781539849
Critical care bed is available for next patient at time 557.9006266875463
Patient 101 discharged from critical care bed at time 559.4439074849964
Patient 102 arrived from other hospitals at time 560.0620104694717
Patient 102 admitted to critical care bed at time 560.0620104694717
Critical care bed is available for next patient at time 561.1310002897103
Critical care bed is available for next patient at time 561.9022781539849
Elective surgery patient 103 arrived at time 562.5539760642207
Elective surgery patient 103 admitted to critical care bed at time 562.5539760642207
Critical care bed is available for next patient at time 564.4439074849964
Patient 104 arrived from the Wards at time 565.7075467358649
Patient 104 admitted to critical care bed at time 565.7075467358649
Patient 104 discharged from critical care bed at time 567.713709076987
Critical care bed is available for next patient at time 572.713709076987
Patient 105 arrived from the Wards at time 574.2794901918485
Patient 105 admitted to critical care bed at time 574.2794901918485
Patient 106 arrived from other hospitals at time 581.7974606970671
Patient 106 admitted to critical care bed at time 581.7974606970671
Elective surgery patient 107 arrived at time 582.2309114646162
Elective surgery patient 107 admitted to critical care bed at time 582.2309114646162
Patient 107 discharged from critical care bed at time 585.7282988937505
Critical care bed is available for next patient at time 590.7282988937505
Elective surgery patient 107 discharged from critical care bed at time 592.5251107572194
Elective surgery patient 108 arrived at time 593.4581861156965
Elective surgery patient 108 admitted to critical care bed at time 593.4581861156965
Elective surgery patient 108 discharged from critical care bed at time 594.7743094026736
Patient 109 arrived from Accident and Emergency at time 596.605547714369
Patient 109 admitted to critical care bed at time 596.605547714369
Critical care bed is available for next patient at time 597.5251107572194
Critical care bed is available for next patient at time 599.7743094026736
Patient 110 arrived from Emergency surgery at time 599.9497402747086
Patient 110 admitted to critical care bed at time 599.9497402747086
Patient 111 arrived from Accident and Emergency at time 602.864530641595
Patient 111 admitted to critical care bed at time 602.864530641595
Patient 112 arrived from other hospitals at time 603.2723454546925
Patient 112 admitted to critical care bed at time 603.2723454546925
Patient 113 arrived from Emergency surgery at time 604.2945684565096
Patient 113 admitted to critical care bed at time 604.2945684565096
Patient 113 discharged from critical care bed at time 606.1207545066031
Patient 113 discharged from critical care bed at time 607.183167471842
Elective surgery patient 114 arrived at time 611.0075098499925
Elective surgery patient 114 admitted to critical care bed at time 611.0075098499925
Critical care bed is available for next patient at time 611.1207545066031
Elective surgery patient 114 discharged from critical care bed at time 611.6913431772684
Critical care bed is available for next patient at time 612.183167471842
Patient 115 arrived from Emergency surgery at time 613.2008913617798
Patient 115 admitted to critical care bed at time 613.2008913617798
Patient 115 discharged from critical care bed at time 615.0405322114194
Critical care bed is available for next patient at time 616.6913431772684
Elective surgery patient 115 discharged from critical care bed at time 619.406456591721
Critical care bed is available for next patient at time 620.0405322114194
Patient 115 discharged from critical care bed at time 620.9580461559492
Patient 116 arrived from the Wards at time 623.0336134839092
Patient 116 admitted to critical care bed at time 623.0336134839092
Patient 116 discharged from critical care bed at time 623.1883733495254
Critical care bed is available for next patient at time 624.406456591721
Patient 117 arrived from Emergency surgery at time 625.3662321088871
Patient 117 admitted to critical care bed at time 625.3662321088871
Critical care bed is available for next patient at time 625.9580461559492
Patient 118 arrived from the Wards at time 626.2536367240982
Patient 118 admitted to critical care bed at time 626.2536367240982
Elective surgery patient 119 arrived at time 627.4837846415013
Elective surgery patient 119 admitted to critical care bed at time 627.4837846415013
Critical care bed is available for next patient at time 628.1883733495254
Patient 120 arrived from the Wards at time 631.3705939502727
Patient 120 admitted to critical care bed at time 631.3705939502727
Patient 121 arrived from Emergency surgery at time 636.9664787731108
Patient 121 admitted to critical care bed at time 636.9664787731108
Elective surgery patient 122 arrived at time 642.6900756129696
Elective surgery patient 122 admitted to critical care bed at time 642.6900756129696
Patient 122 discharged from critical care bed at time 643.5140770676713
Elective surgery patient 122 discharged from critical care bed at time 644.7238376123933
Critical care bed is available for next patient at time 648.5140770676713
Critical care bed is available for next patient at time 649.7238376123933
Patient 123 arrived from Emergency surgery at time 650.9701119610597
Patient 123 admitted to critical care bed at time 650.9701119610597
Patient 123 discharged from critical care bed at time 651.6789072885188
Critical care bed is available for next patient at time 656.6789072885188
Elective surgery patient 124 arrived at time 658.5533484092803
Elective surgery patient 124 admitted to critical care bed at time 658.5533484092803
Patient 124 discharged from critical care bed at time 658.7401764881912
Patient 125 arrived from the Wards at time 659.6432123724553
Patient 125 admitted to critical care bed at time 659.6432123724553
Critical care bed is available for next patient at time 663.7401764881912
Patient 125 discharged from critical care bed at time 664.9169180939376
Patient 126 arrived from other hospitals at time 665.4704171791029
Patient 126 admitted to critical care bed at time 665.4704171791029
Patient 127 arrived from the Wards at time 666.6217477975869
Patient 127 admitted to critical care bed at time 666.6217477975869
Critical care bed is available for next patient at time 669.9169180939376
Patient 128 arrived from Accident and Emergency at time 672.4882104950119
Patient 128 admitted to critical care bed at time 672.4882104950119
Patient 129 arrived from the Wards at time 672.6433804130664
Patient 129 admitted to critical care bed at time 672.6433804130664
Patient 129 discharged from critical care bed at time 673.675474504324
Elective surgery patient 130 arrived at time 675.6572098912085
Elective surgery patient 130 admitted to critical care bed at time 675.6572098912085
Patient 131 arrived from other hospitals at time 678.0923069404558
Patient 131 admitted to critical care bed at time 678.0923069404558
Critical care bed is available for next patient at time 678.675474504324
Patient 132 arrived from Emergency surgery at time 680.9319303071744
Patient 132 admitted to critical care bed at time 680.9319303071744
Patient 132 discharged from critical care bed at time 685.2649092193374
Elective surgery patient 133 arrived at time 685.5464406061633
Elective surgery for patient 133 cancelled due to no available critical care beds at time 685.5464406061633
Critical care bed is available for next patient at time 690.2649092193374
Patient 134 arrived from Emergency surgery at time 691.4038821267425
Patient 134 admitted to critical care bed at time 691.4038821267425
Elective surgery patient 134 discharged from critical care bed at time 691.4845742194983
Patient 134 discharged from critical care bed at time 692.0659066618492
Patient 134 discharged from critical care bed at time 692.1627828728311
Patient 134 discharged from critical care bed at time 692.4238828249211
Critical care bed is available for next patient at time 696.4845742194983
Critical care bed is available for next patient at time 697.0659066618492
Critical care bed is available for next patient at time 697.1627828728311
Critical care bed is available for next patient at time 697.4238828249211
Patient 134 discharged from critical care bed at time 697.6588421209171
Patient 135 arrived from the Wards at time 697.7261941592802
Patient 135 admitted to critical care bed at time 697.7261941592802
Elective surgery patient 136 arrived at time 697.8661941245213
Elective surgery patient 136 admitted to critical care bed at time 697.8661941245213
Patient 137 arrived from Accident and Emergency at time 701.2501324248566
Patient 137 admitted to critical care bed at time 701.2501324248566
Critical care bed is available for next patient at time 702.6588421209171
Patient 137 discharged from critical care bed at time 706.5238703973351
Patient 138 arrived from other hospitals at time 707.3449953836226
Patient 138 admitted to critical care bed at time 707.3449953836226
Critical care bed is available for next patient at time 711.5238703973351
Patient 139 arrived from Accident and Emergency at time 712.3772579916063
Patient 139 admitted to critical care bed at time 712.3772579916063
Elective surgery patient 140 arrived at time 716.3424995034369
Elective surgery patient 140 admitted to critical care bed at time 716.3424995034369
Elective surgery patient 140 discharged from critical care bed at time 725.7154928781891
------------------

[0;31m---------------------------------------------------------------------------[0m
[0;31mZeroDivisionError[0m                         Traceback (most recent call last)
Cell [0;32mIn[11], line 1[0m
[0;32m----> 1[0m [43mtest_results_collection_period[49m[43m([49m[38;5;241;43m10[39;49m[43m)[49m

Cell [0;32mIn[10], line 9[0m, in [0;36mtest_results_collection_period[0;34m(new_collect_period)[0m
[1;32m      2[0m [38;5;250m[39m[38;5;124;03m'''[39;00m
[1;32m      3[0m [38;5;124;03mVary the results collection period while holding the [39;00m
[1;32m      4[0m [38;5;124;03mwarm-up period constant.[39;00m
[1;32m      5[0m 
[1;32m      6[0m [38;5;124;03mExpected result Run length should be no longer than `new_run_length`[39;00m
[1;32m      7[0m [38;5;124;03m'''[39;00m
[1;32m      8[0m experiment [38;5;241m=[39m Experiment(results_collection_period[38;5;241m=[39mnew_collect_period)
[0;32m----> 9[0m model [38;5;241m=[39m [43mrun_test[49m[43m([49m[43mexperiment[49m[43m)[49m
[1;32m     10[0m [38;5;28;01mreturn[39;00m model[38;5;241m.[39menv[38;5;241m.[39mnow

Cell [0;32mIn[5], line 5[0m, in [0;36mrun_test[0;34m(experiment)[0m
[1;32m      3[0m env [38;5;241m=[39m simpy[38;5;241m.[39mEnvironment()
[1;32m      4[0m ccu_model [38;5;241m=[39m CCUModel(env, experiment)
[0;32m----> 5[0m [43mccu_model[49m[38;5;241;43m.[39;49m[43mrun[49m[43m([49m[43m)[49m
[1;32m      6[0m [38;5;28;01mreturn[39;00m ccu_model

Cell [0;32mIn[3], line 118[0m, in [0;36mCCUModel.run[0;34m(self)[0m
[1;32m    116[0m [38;5;28mself[39m[38;5;241m.[39menv[38;5;241m.[39mrun(until[38;5;241m=[39m[38;5;28mself[39m[38;5;241m.[39mexperiment[38;5;241m.[39mresults_collection_period [38;5;241m+[39m [38;5;28mself[39m[38;5;241m.[39mexperiment[38;5;241m.[39mwarm_up_period)
[1;32m    117[0m [38;5;28;01mif[39;00m [38;5;28mself[39m[38;5;241m.[39menv[38;5;241m.[39mnow [38;5;241m>[39m [38;5;28mself[39m[38;5;241m.[39mexperiment[38;5;241m.[39mwarm_up_period:
[0;32m--> 118[0m     mean_waiting_time_unplanned [38;5;241m=[39m [38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mexperiment[49m[38;5;241;43m.[39;49m[43mmean_waiting_time_unplanned[49m[43m [49m[38;5;241;43m/[39;49m[43m [49m[38;5;28;43mself[39;49m[38;5;241;43m.[39;49m[43mexperiment[49m[38;5;241;43m.[39;49m[43mtotal_unplanned_admissions[49m
[1;32m    119[0m     bed_utilization [38;5;241m=[39m [38;5;28mself[39m[38;5;241m.[39mexperiment[38;5;241m.[39mtotal_treatment_time [38;5;241m/[39m ([38;5;28mself[39m[38;5;241m.[39mexperiment[38;5;241m.[39mnum_critical_care_beds [38;5;241m*[39m [38;5;28mself[39m[38;5;241m.[39mexperiment[38;5;241m.[39mresults_collection_period)
[1;32m    120[0m     performance_measures [38;5;241m=[39m pd[38;5;241m.[39mDataFrame({[38;5;124m'[39m[38;5;124mCancelled Elective Operations[39m[38;5;124m'[39m: [[38;5;28mself[39m[38;5;241m.[39mexperiment[38;5;241m.[39mcancelled_elective_count], [38;5;124m'[39m[38;5;124mBed Utilization[39m[38;5;124m'[39m: [bed_utilization], [38;5;124m'[39m[38;5;124mMean Waiting Time Unplanned[39m[38;5;124m'[39m: [mean_waiting_time_unplanned]})

[0;31mZeroDivisionError[0m: division by zero

