# Summary

Our objective was to test if we could recreate a version of healthcare DES models in FOSS using generative AI. We selected two published DES models from the literature where the coded model was not available and the original model was reported to have been implemented in commercial software that could not have formed part of the internet training data for a LLM. We read the natural language description of models in these papers and formed a model design. Based on model designs, we engineered prompts for the free tier of a generative AI tool (Perplexity.AI) to code a Python and `simpy` model and a basic `streamlit` browser interface.  We found that using our iterative approach to coding the model we were able to generate relatively sophisticated versions of two DES models.  By sophisticated we mean:

* The model logic was represented by up to 600 lines of Python code representing a queuing network in healthcare; this is relatively sophisticated compared to models generated by others, for example, models were only represented by 20-30 lines of Python code {cite:p}`jackson_2024`.
* The generated model design followed best practice recommendations {cite:p}`monks2023improving` i.e. we separated model parameters from logic to enable simple experimentation, automated model testing, and linkage to a user interface;
* Between the the two models we included multiple arrival sources and entity classes, balking, sampling mechanisms, queuing network routing, and calculation of multiple performance measures;
* The models run length and output calculation were split into warm-up and data collection periods;
* Sampling in the models was implemented using streaming (common random numbers) and results across replications were repeatable.

We were able to reproduce our own findings internally using the original prompts and a number of additional smaller prompts. In each case the model code generated was different, but produced consistent results. Given our ambition to preserve the time and effort put into coded models reported in the literature we have archived all of our generated models in the Zenodo open science archive. This provides a guarantee on the persistence of the coded models (as long as CERN exists). The models are MIT licensed and available for others to download, inspect, reuse, adapt and redistribute with citation.

We would emphasise that although successful in both stages of the study (the original recreation of a model design and its internal reproduction) neither were straightforward and provided a number of prompt engineering, model testing, and usage challenges for generative AI.  We argue that we were only successful due to the process we followed: our use of iterations to add model detail and scope, our approach to differencing and testing code, and our use of modellers experienced in the DES, healthcare, and FOSS. We do not believe it would have been achievable without all of these ingredients. In this section we describe the challenges and opportunities of generative AI for recreating model designs.



## References

```{bibliography}
:style: plain
:filter: docname in docnames
```